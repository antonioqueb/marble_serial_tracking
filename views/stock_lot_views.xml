<odoo>
    <record id="view_sale_order_form_marble_lot_inherit" model="ir.ui.view">
        <field name="name">sale.order.form.marble.lot</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">

            <!-- ─────────── Formulario: DESPUÉS de price_level ─────────── -->
            <xpath expr="//field[@name='order_line']/form//field[@name='price_level']" position="after">
                <field name="lot_id" domain="[('product_id', '=', product_id)]"/>
                <field name="pedimento_number" readonly="1"/>
                <!-- CAMPOS EDITABLES DE MÁRMOL -->
                <field name="marble_thickness"/>
                <field name="marble_height"/>
                <field name="marble_width"/>
                <field name="marble_sqm"/>
                <field name="lot_general"/>
            </xpath>

            <!-- ─────────── Tree: DESPUÉS de applied_price_per_sqm ─────────── -->
            <xpath expr="//field[@name='order_line']/list//field[@name='applied_price_per_sqm']" position="after">
                <field name="lot_id" optional="show"/>
                <field name="pedimento_number" readonly="1" optional="show"/>
                <!-- CAMPOS EDITABLES DE MÁRMOL EN VISTA TREE -->
                <field name="marble_thickness" optional="show"/>
                <field name="marble_height" optional="show"/>
                <field name="marble_width" optional="show"/>
                <field name="marble_sqm" optional="show"/>
                <field name="lot_general" optional="show"/>
            </xpath>

        </field>
    </record>
</odoo>